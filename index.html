<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="script.js"></script>
    <title>RL Blog</title>
</head>

<body style="background-color: #e3c9a1; color: white;">
    <div class="topnav">
        <a class="logo">Team Asimov</a>
        <a  href="#home" onclick=displayContent(0) id="homebtn">Home</a>
        <a  href="#Qlearning" onclick=displayContent(1) id="qlbtn">Q-Learning</a>
    </div>

    <div class="container" id="home">
        <div class="jumbotron">
            <h1 style="font-weight: bold;">Reinforcement Learning</h1>
            <p>Reinforcement learning is an area of machine learning concerned
             with how intelligent agents ought to take actions in an environment 
             in order to maximize the notion of cumulative reward.</p>
            <center>
            <img src="rlblock.png" alt="RL Block Diagram">
            </center>
            <p>The agent in the given environment needs to use the reward given by 
                the environment to improve its decision-making process. We have two main 
            approaches to RL algorithms, </p>
            <ol style="font-size: 20px;">
                <li>
                    <u>Value Based</u>: In this approach, an agent computes/approximates a 
                    value(a guess of how good a state is) for its state-action pairs. 
                    These values will be used to determine the optimal policy.
                </li>
                <li>
                    <u>Policy Based</u>: Here, the agent doesnâ€™t compute explicit values 
                    and uses policy iteration methods to find the optimal policy. 
                </li>
            </ol>
            
        </div>
    </div>

    <div class="container" id="qlearning" style="display:none;">
        <div class="jumbotron">
            <h1 style="font-weight: bold;">Q-Learning</h1>
            <p>Q-Learning is a value based RL technique. In this method
                we build a Q-Table, which is a state-action action, with states
                in state space as rows and actions in action space as columns.
            </p>
            <center>
                <style type="text/css">
                    .tg  {border-collapse:collapse;border-color:#aaa;border-spacing:0;}
                    .tg td{background-color:#fff;border-color:#aaa;border-style:solid;border-width:1px;color:#333;
                    font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal;}
                    .tg th{background-color:#f38630;border-color:#aaa;border-style:solid;border-width:1px;color:#fff;
                    font-family:Arial, sans-serif;font-size:14px;font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
                    .tg .tg-pjk6{border-color:#000000;color:#000000;text-align:left;vertical-align:top}
                    </style>
                    <table class="tg">
                    <thead>
                    <tr>
                        <th class="tg-pjk6">State\Action</th>
                        <th class="tg-pjk6">Action1</th>
                        <th class="tg-pjk6">Action2</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td class="tg-pjk6">Sate1</td>
                        <td class="tg-pjk6">Q1</td>
                        <td class="tg-pjk6">Q2</td>
                    </tr>
                    <tr>
                        <td class="tg-pjk6">State2</td>
                        <td class="tg-pjk6">Q3</td>
                        <td class="tg-pjk6">Q4<br></td>
                    </tr>
                    <tr>
                        <td class="tg-pjk6">State3</td>
                        <td class="tg-pjk6">Q5<br></td>
                        <td class="tg-pjk6">Q6</td>
                    </tr>
                    </tbody>
                    </table>
            </center>
            <br>
            <p>The agent updates the Q-Table using the following equation,</p>
            <center><img src="qformula.png" alt="Bellman Equation"></center>
            <p>Where, 
                <ol style="font-size: 20px;">
                    <li>S<sub>t</sub>: State of the agent at time t</li>
                    <li>S<sub>t+1</sub>: State of the agent at time t+1</li>
                    <li>A<sub>i</sub>: Action chosen by the agent </li>
                    <li>R<sub>t</sub>: The reward given by the environment on taking action Ai on state St</li>
                    <li>&Gamma;: Discount Factor (Hyperparameter)</li>
                    <li>&alpha;: Learning Rate (Hyperparameter)</li>
                </ol>
            </p>
            <p>Here is an Interactive Visualization of Q-Learning in a Frozen Lake Environment</p>
            <p>In the Frozen Lake problem, the agent needs to travel from Start point (S) to the Goal (G)</p>
            <p>The agent can safely walk on Frozen parts of the lake marked by (F)</p>
            <p>If the agent falls into a hole marked by (H) then the game ends</p>
            <p>Agent receives 1 Reward when it reaches Goal</p>
            <hr>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="grid" id="lake">
                        <div class="cell" id = "1"></div>
                        <div class="cell" id = "2"></div>
                        <div class="cell" id = "3"></div>
                        <div class="cell" id = "4"></div>
                        <div class="cell" id = "5"></div>
                        <div class="cell" id = "6"></div>
                        <div class="cell" id = "7"></div>
                        <div class="cell" id = "8"></div>
                        <div class="cell" id = "9"></div>
                        <div class="cell" id = "10"></div>
                        <div class="cell" id = "11"></div>
                        <div class="cell" id = "12"></div>
                        <div class="cell" id = "13"></div>
                        <div class="cell" id = "14"></div>
                        <div class="cell" id = "15"></div>
                        <div class="cell" id = "16"></div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="slidecontainer">
                        <p id="numsteps">Number of Episodes for the run: 1</p>
                        <input type="range" min="1" max="1000" value="500" class="slider" id="eslide">
                    </div>  
                    <br>
                    <div class="slidecontainer">
                        <p id="epval">Epsilon val: 0.5</p>
                        <input type="range" min="0.0" max="1.0" value="1.0" step="0.1" class="slider" id="epslide">
                    </div>
                    <br>
                    <div class="slidecontainer">
                        <p id="decayval">Epsilon Decay Rate per 10 episodes: 0.5</p>
                        <input type="range" min="0.0" max="1.0" value="0.01" step="0.01" class="slider" id="decayslide">
                    </div>
                    <br>
                    <p id="episodes" style="padding-top: 2%;">
                        Episodes done: 0
                    </p>
                </div>
            </div>
            
            <center>
                <div class="row" style="display: flex; justify-content: center;">
                    <div class="col-lg-2">
                        <button class="btn-primary btn-lg" onclick="reset()">RESET</button>
                    </div>
                    <div class="col-lg-2">
                        <button class="btn-primary btn-lg" onclick="run_episodes()">RUN</button>
                    </div> 
                </div>
            </center>      
        </div>
    </div>

</body>
</html>